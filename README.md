# Vue Atomic Docs

A Vue 3 plugin for creating component documentation and design systems.

## New Features

### Server-Based Configuration and Manifest Loading

Vue Atomic Docs now includes a Node.js server to handle configuration and manifest generation in browser environments. This solves the issue of accessing the file system in browser environments, allowing the plugin to work seamlessly in both development and production.

```bash
# Start the documentation server
npm run start-docs-server
```

The server provides the following endpoints:
- `GET /api/atomic-docs/config` - Returns the configuration from atomic-docs.config.js
- `POST /api/atomic-docs/generate-manifest` - Generates the manifest file
- `GET /api/atomic-docs/manifest` - Returns the content of the generated manifest file
- `GET /api/atomic-docs/manifest-modules` - Returns the modules from the manifest file

### Centralized Configuration

Vue Atomic Docs supports a centralized configuration approach using the `atomic-docs.config.js` file. This means you no longer need to pass all options explicitly when installing the plugin - they can be loaded automatically from the configuration file.

```javascript
// main.js
import { createApp } from 'vue';
import App from './App.vue';
import { componentDocsPlugin } from 'vue-atomic-docs';

const app = createApp(App);

// The plugin will automatically load options from atomic-docs.config.js
// or from the server API in browser environments
app.use(componentDocsPlugin);

app.mount('#app');
```

### Automatic Module Loading

The plugin will automatically attempt to load component and example modules from the manifest file generated by the manifest generator script, or from the server API in browser environments. This means you don't need to manually import and pass these modules when installing the plugin.

### Improved Error Messages

The plugin now provides more detailed error messages when configuration issues are encountered, with specific information about missing options and suggestions on how to fix them.

## Installation

```bash
npm install vue-atomic-docs
```

## Quick Start

1. Create an `atomic-docs.config.js` file in your project root:

```javascript
// atomic-docs.config.js
module.exports = {
  output: 'src/atomic-docs-manifest.ts',
  componentsDir: 'src/components',
  examplesDir: 'src/component-examples',
  pluginComponentsBaseName: 'components',
  pluginExamplesBaseName: 'component-examples',
  enableDocs: true,
  mainAppID: 'app'
};
```

2. Generate the manifest file:

```bash
npm run generate-docs-manifest
```

3. Start the documentation server (for browser environments):

```bash
npm run start-docs-server
```

4. Install the plugin in your Vue app:

```javascript
// main.js
import { createApp } from 'vue';
import App from './App.vue';
import { componentDocsPlugin } from 'vue-atomic-docs';

const app = createApp(App);
app.use(componentDocsPlugin, { enableDocs: true });
app.mount('#app');
```

The plugin will automatically:
- Load configuration from the server API in browser environments
- Load manifest modules from the server API in browser environments
- Fall back to direct file system access in Node.js environments

## Documentation

For detailed documentation, see:

- [Configuration Guide](./docs/configuration.md)
- [API Reference](./docs/api.md)
- [Examples](./docs/examples.md)

## License

MIT
